<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support Jarod Mowry - Tech Professional</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Courier New', monospace; background: #000; color: #00ffff; line-height: 1.6; overflow-x: hidden; }
        #loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.65); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10050; }
        #terminal-text { font-size: 2rem; letter-spacing: 2px; text-shadow: 0 0 10px rgba(0, 255, 255, 0.8); color: #00ffff; }
        .loading-cursor { display: inline-block; width: 15px; height: 25px; background: #00ffff; margin-left: 5px; animation: blink 0.7s infinite; box-shadow: 0 0 15px rgba(0, 255, 255, 1); }
        @keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }
        @keyframes glitch {
            0% { transform: translate(0); text-shadow: 0 0 10px rgba(0,255,255,0.8); }
            20% { transform: translate(-2px, 2px); text-shadow: -2px 0 #ff00ff, 2px 0 #00ffff; }
            40% { transform: translate(-2px, -2px); text-shadow: 2px 0 #ff00ff, -2px 0 #00ffff; }
            60% { transform: translate(2px, 2px); text-shadow: -2px 2px #ff00ff, 2px -2px #00ffff; }
            80% { transform: translate(2px, -2px); text-shadow: 2px 2px #ff00ff, -2px -2px #00ffff; }
            100% { transform: translate(0); text-shadow: 0 0 10px rgba(0,255,255,0.8); }
        }
        @keyframes glitchBox {
            0% { transform: translate(0); box-shadow: 0 0 30px rgba(0,255,255,0.4); }
            20% { transform: translate(-1px, 1px); box-shadow: -2px 0 10px #ff00ff, 2px 0 10px #00ffff; }
            40% { transform: translate(1px, -1px); box-shadow: 2px 0 10px #ff00ff, -2px 0 10px #00ffff; }
            60% { transform: translate(-1px, -1px); box-shadow: -2px -2px 10px #ff00ff, 2px 2px 10px #00ffff; }
            80% { transform: translate(1px, 1px); box-shadow: 2px 2px 10px #ff00ff, -2px -2px 10px #00ffff; }
            100% { transform: translate(0); box-shadow: 0 0 30px rgba(0,255,255,0.4); }
        }
        .glitch-text { animation: glitch 3s infinite; }
        .glitch-box { animation: glitchBox 4s infinite; }
        /* Discord logo inside popup matches neon aesthetic */
        .discord-logo svg { filter: drop-shadow(0 0 8px rgba(0,255,255,0.35)); }
        /* neon tint the image to match site color and add subtle glow */
        .discord-logo img.discord-img { width:36px;height:36px; filter: brightness(0) saturate(100%) invert(72%) sepia(100%) saturate(600%) hue-rotate(150deg) brightness(1); drop-shadow:0 0 10px rgba(0,255,255,0.25); }
        /* slide/glitch animation for the logo */
        @keyframes discordFloat { 0% { transform: translateX(-6px); } 50% { transform: translateX(6px); } 100% { transform: translateX(-6px); } }
        .discord-glitch { animation: discordFloat 3.2s ease-in-out infinite; }
        /* popup 3D canvas styling */
        .popup-ball { width: 56px; height: 56px; display: block; border-radius: 12px; }
        /* fixed Discord button styling (neon aesthetic) */
        .discord-button { position: fixed; bottom: 140px; right: 20px; z-index: 1000; font-family: 'Courier New', monospace; font-weight: bold; border-radius: 10px; padding: 0.9rem 1.25rem; cursor: pointer; background: linear-gradient(135deg,#5865f2,#003344); border: 2px solid #5865f2; color: #fff; box-shadow: 0 0 30px rgba(0,255,255,0.06); display: inline-flex; align-items: center; gap: 10px; backdrop-filter: blur(10px); font-size: 1.05rem; }
        .discord-button .mini-logo { width: 36px; height: 36px; border-radius: 8px; display: inline-flex; align-items: center; justify-content: center; background: linear-gradient(135deg,#5865f2,#00ffff); box-shadow: 0 0 20px rgba(0,255,255,0.12); }
        /* tint and animate the mini logo inside the fixed button (supports inline SVG fallback) */
        .discord-button .mini-logo img, .discord-button .mini-logo svg { width:20px; height:20px; filter: brightness(0) saturate(100%) invert(72%) sepia(100%) saturate(600%) hue-rotate(150deg) brightness(1); -webkit-filter: brightness(0) saturate(100%) invert(72%) sepia(100%) saturate(600%) hue-rotate(150deg) brightness(1); box-shadow:0 0 8px rgba(0,255,255,0.18); animation: discordFloat 3.2s ease-in-out infinite; }
        .discord-button span { color: #00ffff; text-shadow: 0 0 10px rgba(0,255,255,0.6); }
        .discord-button:hover { box-shadow: 0 0 50px rgba(0,255,255,0.22); transform: translateY(-2px); }
        /* Background Hello World removed per user request */
        .hidden { display: none; }
        #three-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.4; }
        /* music UI removed */
        header { background: rgba(0,26,26,0.25); padding: 3rem 2rem; text-align: center; border-bottom: 3px solid rgba(0,255,255,0.9); box-shadow: 0 0 30px rgba(0,255,255,0.35); position: relative; z-index: 1; animation: glitchBox 6s infinite; }
        #header-terminal { font-size: 2.5rem; margin-bottom: 1rem; min-height: 60px; animation: glitch 3s infinite; }
        .header-cursor { display: inline-block; width: 15px; height: 35px; background: #00ffff; margin-left: 5px; animation: blink 0.7s infinite; box-shadow: 0 0 15px rgba(0, 255, 255, 1); vertical-align: middle; }
        header p { color: #00cccc; }
        header a { color: #00ffff; text-decoration: none; border-bottom: 2px solid #00ffff; transition: all 0.3s; }
        header a:hover { text-shadow: 0 0 10px rgba(0,255,255,0.8); }
        nav { background: rgba(0, 38, 38, 0.22); padding: 1rem; text-align: center; border-bottom: 2px solid rgba(0,255,255,0.9); position: sticky; top: 0; z-index: 100; backdrop-filter: blur(6px); animation: glitchBox 5s infinite; }
        nav a { color: #00ffff; text-decoration: none; margin: 0 1.5rem; padding: 0.5rem 1rem; border: 2px solid transparent; transition: all 0.3s; display: inline-block; animation: glitch 4s infinite; }
        nav a:hover, nav a.active { border: 2px solid #00ffff; background: rgba(0, 51, 51, 0.5); box-shadow: 0 0 15px rgba(0,255,255,0.5); }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; position: relative; z-index: 1; }
        .page { display: none; }
        .page.active { display: block; }
        .section { background: rgba(0, 26, 26, 0.25); padding: 2rem; margin: 2rem 0; border: 2px solid rgba(0,255,255,0.8); border-radius: 10px; box-shadow: 0 0 30px rgba(0,255,255,0.18); backdrop-filter: blur(6px); animation: glitchBox 7s infinite; }
        .section h2 { color: #00ffff; border-bottom: 3px solid #00ffff; padding-bottom: 0.5rem; margin-bottom: 1rem; text-shadow: 0 0 10px rgba(0,255,255,0.8); animation: glitch 3.5s infinite; }
        .section p { color: #00cccc; margin-bottom: 1rem; animation: glitch 5s infinite; }
        .tool-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 1rem; }
        .tool-box { background: rgba(0, 38, 38, 0.25); border: 3px solid rgba(0,255,255,0.8); padding: 1.5rem; border-radius: 10px; box-shadow: 0 0 25px rgba(0,255,255,0.18); transition: all 0.3s; animation: glitchBox 6s infinite; }
        .tool-box:hover { transform: translateY(-5px); box-shadow: 0 0 40px rgba(0,255,255,0.8); }
        .tool-box h3 { color: #00ffff; margin-bottom: 1rem; font-size: 1.1rem; text-shadow: 0 0 10px rgba(0,255,255,0.8); animation: glitch 4s infinite; }
        .tool-input { width: 100%; padding: 0.7rem; background: rgba(0, 0, 0, 0.35); border: 2px solid rgba(0,255,255,0.7); color: #00ffff; border-radius: 4px; font-family: 'Courier New', monospace; margin-bottom: 0.7rem; animation: glitchBox 5s infinite; }
        .tool-btn { width: 100%; padding: 0.7rem; background: linear-gradient(135deg, #003333, #004444); color: #00ffff; border: 2px solid #00ffff; border-radius: 4px; cursor: pointer; font-family: 'Courier New', monospace; font-weight: bold; transition: all 0.3s; }
        .tool-btn:hover { background: linear-gradient(135deg, #004444, #006666); box-shadow: 0 0 20px rgba(0,255,255,0.8); }
        .tool-result { margin-top: 1rem; padding: 1.5rem; background: rgba(0, 38, 38, 0.3); border: 3px solid rgba(0,255,255,0.7); border-radius: 8px; color: #00ffff; display: none; }
        .exif-preview { max-width: 100%; max-height: 300px; margin: 1rem 0; display: none; border: 2px solid #00ffff; border-radius: 8px; }
        .exif-data { display: grid; grid-template-columns: auto 1fr; gap: 0.5rem; font-size: 0.85rem; }
        .exif-label { color: #00ffff; font-weight: bold; }
        .exif-value { color: #00cccc; word-break: break-word; }
        .needs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0; }
        .need-card { background: linear-gradient(135deg, rgba(0, 38, 38, 0.9), rgba(0, 51, 51, 0.9)); padding: 1.5rem; border: 3px solid #00ffff; border-radius: 10px; text-align: center; cursor: pointer; transition: all 0.3s; }
        .need-card:hover { transform: translateY(-5px); box-shadow: 0 0 40px rgba(0,255,255,0.8); }
        .need-card.selected { background: linear-gradient(135deg, rgba(0, 51, 51, 0.95), rgba(0, 77, 77, 0.95)); box-shadow: 0 0 50px rgba(0,255,255,1); border-width: 4px; }
        .need-icon { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .need-amount { font-size: 1.8rem; font-weight: bold; color: #00ffff; text-shadow: 0 0 15px rgba(0,255,255,1); }
        .need-title { font-weight: bold; color: #00ffff; margin: 0.5rem 0; }
        .need-desc { font-size: 0.85rem; color: #00cccc; }
        .custom-amount { text-align: center; margin: 2rem 0; padding: 1.5rem; background: rgba(0, 38, 38, 0.22); border: 2px solid rgba(0,255,255,0.7); border-radius: 10px; }
        .custom-amount h3 { color: #00ffff; margin-bottom: 1rem; }
        .custom-amount input { padding: 0.8rem; border: 2px solid #00ffff; border-radius: 4px; font-size: 1.2rem; width: 180px; text-align: center; background: rgba(0, 0, 0, 0.8); color: #00ffff; font-family: 'Courier New', monospace; }
        #paypal-container { max-width: 500px; margin: 2rem auto; min-height: 100px; }
        .success { background: #001a00; border: 2px solid #00ff00; color: #00ff00; padding: 2rem; margin: 2rem 0; border-radius: 8px; display: none; text-align: center; }
        .paypal-security { text-align: center; margin: 2rem 0; padding: 2rem; background: rgba(0, 38, 38, 0.22); border: 2px solid rgba(0,255,255,0.7); border-radius: 10px; }
        .paypal-security img { max-width: 150px; margin: 0.5rem 1rem; opacity: 0.9; filter: brightness(1.2); }
        .security-badges { display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 2rem; margin: 1rem 0; }
        .security-text { color: #00cccc; font-size: 0.9rem; margin-top: 1rem; }
        .work-history { background: rgba(0, 38, 38, 0.22); padding: 1.5rem; border: 2px solid rgba(0,255,255,0.7); border-radius: 8px; margin: 1rem 0; }
        .work-item { margin: 1rem 0; padding-left: 1rem; border-left: 3px solid #00ffff; }
        .work-item h4 { color: #00ffff; margin-bottom: 0.3rem; }
        .work-item p { color: #00cccc; font-size: 0.9rem; }
        .highlight-box { background: rgba(255, 100, 100, 0.1); border: 2px solid #ff6666; padding: 1.5rem; border-radius: 10px; margin: 1.5rem 0; }
        .highlight-box h3 { color: #ff6666; margin-bottom: 1rem; }
        footer { background: rgba(0, 26, 26, 0.9); color: #00ffff; text-align: center; padding: 2rem; margin-top: 3rem; border-top: 3px solid #00ffff; position: relative; z-index: 1; }
        ul { color: #00cccc; margin-left: 2rem; margin-top: 1rem; }
        li { margin: 0.5rem 0; }
        @media (max-width: 768px) { 
            #header-terminal { font-size: 1.8rem; }
            .tool-grid, .needs-grid { grid-template-columns: 1fr; }
            nav a { display: block; margin: 0.5rem 0; }
        }
        /* RGB animations used by Discord popup */
        @keyframes rgbCycle {
            0% { color: #00ffff; }
            25% { color: #ff00ff; }
            50% { color: #00ff88; }
            75% { color: #ffff00; }
            100% { color: #00ffff; }
        }
        @keyframes rgbBorder {
            0% { border-color: #00ffff; box-shadow: 0 0 20px rgba(0,255,255,0.2); }
            50% { border-color: #ff00ff; box-shadow: 0 0 30px rgba(255,0,255,0.15); }
            100% { border-color: #00ffff; box-shadow: 0 0 20px rgba(0,255,255,0.2); }
        }
        @keyframes rgbBoxShadow {
            0% { box-shadow: 0 0 30px rgba(0,255,255,0.15); }
            50% { box-shadow: 0 0 40px rgba(255,0,255,0.12); }
            100% { box-shadow: 0 0 30px rgba(0,255,255,0.15); }
        }
        /* Discord popup accent and shared glitch box styling */
        .discord-box { background: rgba(0, 10, 10, 0.92); border: 3px solid #00ffff; color: #00ffff; box-shadow: 0 0 40px rgba(0,255,255,0.25); }
        .glitch-box { animation: glitchBox 4s infinite; }
    </style>
    <!-- Dynamic favicon placeholder (will be updated by script to an animated spinning globe) -->
    <link id="dynamic-favicon" rel="icon" href="">
</head>
<body>
    <canvas id="three-bg"></canvas>
    
    <div id="loading-screen">
        <div id="terminal-text"><span class="loading-cursor"></span></div>
    </div>

    <!-- Discord popup, overlay, YouTube container and Discord button -->
    <div id="discord-popup" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:rgba(0,0,0,0.95); border:3px solid; padding:2rem; border-radius:15px; z-index:10000; max-width:400px; text-align:center; animation:rgbBorder 4s infinite, rgbBoxShadow 4s infinite; backdrop-filter:blur(10px);">
        <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:12px;">
            <div class="discord-logo" aria-hidden="true" style="width:56px;height:56px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#5865f2,#00ffff);box-shadow:0 0 30px rgba(0,255,255,0.12);">
                <canvas id="popup-ball" class="popup-ball" width="56" height="56" aria-hidden="true"></canvas>
            </div>
            <h2 style="margin:0; font-size:1.25rem; animation:rgbCycle 5s infinite; color:#00ffff;">Add Me on Discord</h2>
        </div>
        <p style="margin-bottom:1.5rem; animation:rgbCycle 7s infinite;">Connect with me directly on Discord!</p>
        <div style="background:rgba(0,0,0,0.8); padding:1rem; border:2px solid; border-radius:8px; margin-bottom:1.5rem; animation:rgbBorder 6s infinite;">
            <div style="font-size:1.3rem; font-weight:bold; animation:rgbCycle 5s infinite; margin-bottom:0.5rem;" id="discord-username">ackleine</div>
            <div style="display:flex; gap:8px; justify-content:center; align-items:center; margin-top:0.5rem;">
                <button onclick="copyDiscord()" style="background:rgba(88,101,242,0.8); border:2px solid #5865f2; padding:0.5rem 1rem; border-radius:6px; cursor:pointer; font-family:'Courier New',monospace; font-weight:bold; color:#fff;">üìã Copy</button>
                <button id="discord-more-btn" onclick="toggleDiscordSubmenu();event.stopPropagation()" style="background:rgba(0,38,38,0.9); border:2px solid #00ffff; padding:0.5rem 1rem; border-radius:6px; cursor:pointer; font-family:'Courier New',monospace; font-weight:bold; color:#00ffff;">‚ãØ More</button>
            </div>
            <div id="discord-submenu" style="display:none; margin-top:0.6rem;">
                <button onclick="openDiscordApp();event.stopPropagation()" style="display:block; width:100%; background:rgba(0,51,51,0.9); border:2px solid #00ffff; padding:0.6rem 0; border-radius:6px; cursor:pointer; font-family:'Courier New',monospace; font-weight:bold; color:#00ffff; margin-bottom:0.5rem;">Open Discord App</button>
                <button onclick="window.open('https://discord.com/app','_blank');event.stopPropagation()" style="display:block; width:100%; background:rgba(0,26,26,0.9); border:2px solid #00ffff; padding:0.6rem 0; border-radius:6px; cursor:pointer; font-family:'Courier New',monospace; font-weight:bold; color:#00ffff;">Open Discord Web</button>
            </div>
        </div>
        <button onclick="closeDiscordPopup()" style="background:rgba(0,0,0,0.8); border:2px solid; padding:0.7rem 2rem; border-radius:6px; cursor:pointer; font-family:'Courier New',monospace; font-weight:bold; animation:rgbCycle 6s infinite, rgbBorder 6s infinite;">Close</button>
    </div>

    <div id="discord-overlay" onclick="closeDiscordPopup()" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:9999; backdrop-filter:blur(5px);"></div>

    <!-- youtube-player removed -->

    <button class="discord-button" onclick="openDiscordPopup();event.stopPropagation()">
        <span class="mini-logo" aria-hidden="true">
            <!-- Inline Discord SVG to avoid external loading/CORS and ensure filters apply reliably -->
            <svg viewBox="0 0 71 55" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                <path fill="#ffffff" d="M60.104 4.552A58.64 58.64 0 0 0 46.983.5a41.777 41.777 0 0 0-1.98 4.085 55.28 55.28 0 0 0-13.992 0A41.777 41.777 0 0 0 28.03.5 58.642 58.642 0 0 0 15.93 4.552C6.584 20.02 2.94 34.12 4.474 47.967c12.08 8.994 23.552 8.058 33.62 5.83 1.996-3.08 3.82-6.344 5.44-9.776 6.87.29 13.058.066 18.73-1.55-2.08-15.08-6.66-28.55-10.16-37.91zM23.31 37.65c-3.1 0-5.62-2.94-5.62-6.56 0-3.62 2.52-6.56 5.62-6.56 3.1 0 5.62 2.94 5.62 6.56 0 3.62-2.52 6.56-5.62 6.56zm24.38 0c-3.1 0-5.62-2.94-5.62-6.56 0-3.62 2.52-6.56 5.62-6.56 3.1 0 5.62 2.94 5.62 6.56 0 3.62-2.52 6.56-5.62 6.56z"/>
            </svg>
        </span>
        <span style="color:#00ffff;">Discord</span>
    </button>
    

    <div id="main-content" class="hidden">
    <header>
        <div id="header-terminal">
            <span id="header-text"></span><span class="header-cursor"></span>
        </div>
        <p>Native American foster kid destroyed by disabilities - 14 years in foster care with no help</p>
        <p style="margin-top: 0.5rem;">Abusive foster homes ‚Ä¢ Family who barely cares ‚Ä¢ Fighting to survive</p>
        <p style="margin-top: 0.5rem;"><a href="https://www.linkedin.com/in/jarod-mowry-280046336/" target="_blank">üîó LinkedIn Profile</a></p>
    </header>

    <nav>
        <a href="#" class="nav-link active" onclick="showPage('home')">üè† Home</a>
        <a href="#" class="nav-link" onclick="showPage('tools')">üîß Network Tools</a>
        <a href="#" class="nav-link" onclick="showPage('upload')">üì§ Photo Upload</a>
        <a href="#" class="nav-link" onclick="showPage('location')">üìç my location</a>
    </nav>
    
    <div class="container">
        <div id="home-page" class="page active">
            <div class="section">
                <h2>üìñ My Story</h2>
                <div class="highlight-box">
                    <h3>‚ö†Ô∏è The Reality</h3>
                    <p><strong>Native American foster kid</strong> who spent <strong>14 years in the foster care system</strong> with absolutely no support. I endured abusive foster homes, was failed by a system that was supposed to protect me, and have a biological family who barely cares if I'm alive or dead.</p>
                    <p style="margin-top: 1rem;">Now I'm facing homelessness while navigating disability challenges, trying to survive in a world that turned its back on me long ago.</p>
                </div>
                <p>My name is Jarod Mowry, and I'm reaching out during one of the most challenging times of my life. Despite building a career in technology and always being self-sufficient, life threw me a curveball I couldn't prepare for.</p>
                <p>I was placed in foster care as a child and spent 14 years bouncing between homes - many of them abusive. The system failed me. My biological family failed me. I learned early that I could only count on myself.</p>
                <p>I pushed through, got into IT, and built a career despite everything. But now, disabilities have caught up with me, and I'm unable to work while waiting for disability approval. I'm currently experiencing homelessness, attending medical appointments and therapy sessions, trying to survive one day at a time.</p>
                
                <div class="work-history">
                    <h3 style="color: #00cccc; margin-bottom: 1rem;">Professional Background</h3>
                    <div class="work-item">
                        <h4>üñ•Ô∏è IT Support Analyst - South East Health</h4>
                        <p>Technical support and system maintenance in healthcare environment</p>
                    </div>
                    <div class="work-item">
                        <h4>üîß ISP Technician</h4>
                        <p>Technical installations, troubleshooting, and customer support</p>
                    </div>
                    <div class="work-item">
                        <h4>‚öôÔ∏è Technical Specialist</h4>
                        <p>Worked as technician across multiple technology sectors</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üíö How You Can Help</h2>
                <p style="text-align: center;">I'm not asking for large amounts. Every bit helps me maintain the essentials and survive.</p>
                <div class="needs-grid">
                    <div class="need-card" onclick="selectAmount(35)">
                        <div class="need-icon">üì±</div>
                        <div class="need-amount">$35</div>
                        <div class="need-title">Phone Bill</div>
                        <div class="need-desc">Stay connected for appointments & disability updates</div>
                    </div>
                    <div class="need-card" onclick="selectAmount(20)">
                        <div class="need-icon">üöå</div>
                        <div class="need-amount">$20</div>
                        <div class="need-title">Bus Tokens</div>
                        <div class="need-desc">Transportation to appointments</div>
                    </div>
                    <div class="need-card" onclick="selectAmount(50)">
                        <div class="need-icon">üß•</div>
                        <div class="need-amount">$50</div>
                        <div class="need-title">Winter Clothing</div>
                        <div class="need-desc">Warm coat & thermal layers</div>
                    </div>
                    <div class="need-card" onclick="selectAmount(15)">
                        <div class="need-icon">üçî</div>
                        <div class="need-amount">$15</div>
                        <div class="need-title">Meals</div>
                        <div class="need-desc">Hot meals for a few days</div>
                    </div>
                    <div class="need-card" onclick="selectAmount(25)">
                        <div class="need-icon">üß¥</div>
                        <div class="need-amount">$25</div>
                        <div class="need-title">Hygiene</div>
                        <div class="need-desc">Basic necessities</div>
                    </div>
                    <div class="need-card" onclick="selectAmount(10)">
                        <div class="need-icon">üíä</div>
                        <div class="need-amount">$10</div>
                        <div class="need-title">Medication</div>
                        <div class="need-desc">Prescription co-pays</div>
                    </div>
                </div>
                
                <div class="custom-amount">
                    <h3>Or Enter Custom Amount</h3>
                    <span style="font-size: 1.5rem;">$</span>
                    <input type="number" id="customAmount" placeholder="0.00" min="1" step="0.01" oninput="handleCustomAmount()">
                </div>

                <div id="paypal-container"></div>
                <div id="success" class="success">
                    <h3>üôè Thank You!</h3>
                    <p>Your kindness means everything to me.</p>
                </div>

                <div class="paypal-security">
                    <h3 style="color: #00ffff; margin-bottom: 1rem;">üîí Secure Payment</h3>
                    <div class="security-badges">
                        <img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/PP_logo_h_100x26.png" alt="PayPal">
                        <div style="color: #00ffff; font-size: 2rem;">üîê</div>
                        <div style="color: #00ffff; font-size: 2rem;">‚úì</div>
                    </div>
                    <div class="security-text">
                        <p>‚úì Powered by PayPal - Your payment information is encrypted and secure</p>
                        <p>‚úì No account required - Pay with credit/debit card or PayPal balance</p>
                        <p>‚úì 100% secure checkout - PayPal Purchase Protection</p>
                        <p>‚úì Direct support - Every dollar goes directly to helping me survive</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìã What I'm Doing Now</h2>
                <ul>
                    <li>Attending medical appointments and therapy sessions</li>
                    <li>Working through disability application process</li>
                    <li>Following treatment plans</li>
                    <li>Trying to find safe shelter each night</li>
                    <li>Staying positive despite overwhelming challenges</li>
                    <li>Seeking available resources and support</li>
                </ul>
            </div>

            <div class="section">
                <h2>üîó Connect With Me</h2>
                <p style="text-align: center;">
                    <a href="https://www.linkedin.com/in/jarod-mowry-280046336/" target="_blank" style="display: inline-block; background: #003333; color: #00ffff; padding: 1rem 2rem; border: 2px solid #00ffff; border-radius: 8px; text-decoration: none; font-weight: bold;">
                        Connect on LinkedIn
                    </a>
                </p>
                <p style="text-align: center; margin-top: 1rem; color: #00cccc;">Feel free to reach out with opportunities, advice, or support.</p>
            </div>
        </div>

        <div id="tools-page" class="page">
            <div class="section">
                <h2>üîß Network & Image Tools</h2>
                <p>Professional IT diagnostic and forensic tools I've used throughout my career</p>
                <div class="tool-grid">
                                <div class="tool-box glitch-box">
                        <h3>üåê IP Lookup</h3>
                        <input type="text" id="ipInput" placeholder="e.g., 8.8.8.8" class="tool-input">
                        <button class="tool-btn" onclick="lookupIP()">LOOKUP IP</button>
                        <div id="ipResult" class="tool-result"></div>
                    </div>
                    <div class="tool-box glitch-box">
                        <h3>üîç MAC Lookup</h3>
                        <input type="text" id="macInput" placeholder="e.g., 00:1A:2B:3C:4D:5E" class="tool-input">
                        <button class="tool-btn" onclick="lookupMAC()">LOOKUP MAC</button>
                        <div id="macResult" class="tool-result"></div>
                    </div>
                    <div class="tool-box glitch-box">
                        <h3>‚ö° My IP Info</h3>
                        <button class="tool-btn" onclick="getMyIP()">GET MY IP</button>
                        <div id="myipResult" class="tool-result"></div>
                    </div>
                    <div class="tool-box glitch-box">
                        <h3>üåç Domain Lookup</h3>
                        <input type="text" id="domainInput" placeholder="e.g., google.com" class="tool-input">
                        <button class="tool-btn" onclick="lookupDomain()">LOOKUP DOMAIN</button>
                        <div id="domainResult" class="tool-result"></div>
                    </div>
                    <div class="tool-box glitch-box">
                        <h3>üì∏ EXIF Data Viewer</h3>
                        <input type="file" id="exifInput" accept="image/*" class="tool-input" onchange="readEXIF()" style="padding: 0.5rem;">
                        <img id="exifPreview" class="exif-preview">
                        <div id="exifResult" class="tool-result"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="upload-page" class="page">
            <div class="section">
                <h2>üì§ Photo Upload</h2>
                <p>Upload and share your photos using Imgur API</p>
                <div class="tool-box" style="max-width: 600px; margin: 2rem auto;">
                    <h3>üì∑ Upload Image</h3>
                    <input type="file" id="uploadInput" accept="image/*" class="tool-input" style="padding: 0.5rem;">
                    <button class="tool-btn" onclick="uploadImage()">UPLOAD TO IMGUR</button>
                    <div id="uploadPreview" style="margin-top: 1rem; text-align: center;">
                        <img id="previewImg" style="max-width: 100%; max-height: 300px; display: none; border: 2px solid #00ffff; border-radius: 8px; margin: 1rem 0;">
                    </div>
                    <div id="uploadResult" class="tool-result"></div>
                </div>
            </div>
        </div>
        <div id="location-page" class="page">
            <div class="section">
                <h2>üìç My Location</h2>
                <p>Find "Helping Hands of Springfield" and get directions from your device.</p>
                <div style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap;">
                    <button id="openMapsBtn" class="tool-btn">Open Target in Google Maps</button>
                </div>
                <div id="helping-info" class="tool-result" style="display:block; margin-top:12px; color:#00ffff;"></div>
                <div id="il-art" class="glitch-box" style="height:420px; margin-top:12px; border:2px solid #00ffff; border-radius:8px; background:rgba(0,0,0,0.25); overflow:hidden;"></div>
                <div id="hh-map" style="height:420px; margin-top:12px; border:2px solid #00ffff; border-radius:8px; display:none;"></div>
            </div>
        </div>

    </div>

    <footer>
        <p>&copy; 2024 Jarod Mowry - Thank you for your support</p>
        <p style="margin-top: 0.5rem;">üôè Every act of kindness brings hope</p>
    </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=AShHA7LRHXBp7nwEXq8M4l4LOGXPl2Ht9Ynrm5S_tOvtjTZHBXYrb6qaSNJqj-DuUpuQ1uAwT4syT_TQ&currency=USD"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.min.js"></script>
    <script>
    // Simple bouncing ball art for #il-art
    (function(){
        var renderer, scene, camera, ball, shadowLines, animId;
        function initIllinoisArt(){
            try{
                var el = document.getElementById('il-art');
                if(!el) return;
                if(animId) cancelAnimationFrame(animId);
                if(renderer && renderer.domElement && renderer.domElement.parentNode) renderer.domElement.remove();

                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(50, el.clientWidth / el.clientHeight, 0.1, 1000);
                renderer = new THREE.WebGLRenderer({alpha:true, antialias:true});
                renderer.setPixelRatio(window.devicePixelRatio||1);
                renderer.setSize(el.clientWidth, el.clientHeight);
                el.appendChild(renderer.domElement);

                var dir = new THREE.DirectionalLight(0xffffff, 0.9);
                dir.position.set(5,10,7);
                scene.add(dir);
                scene.add(new THREE.AmbientLight(0x222222, 0.8));

                var geom = new THREE.SphereGeometry(40, 48, 48);
                // Render the ball as wireframe line segments so it matches the shadow styling
                var wireGeom = new THREE.WireframeGeometry(geom);
                ball = new THREE.LineSegments(wireGeom, new THREE.LineBasicMaterial({color:0x00ffff, transparent:true, opacity:0.95}));
                ball.position.set(0,40,0);
                scene.add(ball);

                // Add a faint lower wireframe duplicate to act like the current "shadow"
                shadowLines = new THREE.LineSegments(wireGeom, new THREE.LineBasicMaterial({color:0xff00ff, transparent:true, opacity:0.18}));
                shadowLines.position.set(0,8,0);
                shadowLines.scale.set(0.98,0.5,0.98);
                scene.add(shadowLines);

                camera.position.set(0,120,220);
                camera.lookAt(0,40,0);

                function onResize(){
                    if(!el) return;
                    camera.aspect = el.clientWidth / el.clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(el.clientWidth, el.clientHeight);
                }
                window.addEventListener('resize', onResize);

                var t0 = Date.now();
                function animate(){
                    var t = (Date.now()-t0)/1000;
                    var bounce = Math.abs(Math.sin(t*2))*40;
                    ball.position.y = 20 + bounce;
                    ball.rotation.y += 0.02;
                    ball.rotation.x += 0.01;
                    if(shadowLines){
                        shadowLines.rotation.copy(ball.rotation);
                        // keep the shadow lower/fixed while following rotation
                        shadowLines.position.y = 8;
                    }
                    renderer.render(scene, camera);
                    animId = requestAnimationFrame(animate);
                }
                animate();
            }catch(e){ console.error('initIllinoisArt (ball) error', e); }
        }

        window.initIllinoisArt = initIllinoisArt;
        setTimeout(function(){ try{ initIllinoisArt(); }catch(e){} }, 700);
    })();
var msg="Hello World",idx=0,del=false,sel=0,rdy=false,scene,camera,renderer,particles=[],grids=[],globe=null,bgStars=null,bgShapes=[],ball3D=null,ballWire=null;
// popup mini-ball renderer state
var popupRenderer=null,popupScene=null,popupCamera=null,popupAnimId=null,popupMesh=null;

function setDiscordUIEnabled(enabled){
    try{
        var dp = document.getElementById('discord-popup');
        var dover = document.getElementById('discord-overlay');
        var dbtn = document.querySelector('.discord-button');
        if(!enabled){
            if(dp) dp.style.display = 'none';
            if(dover) dover.style.display = 'none';
            if(dbtn){ dbtn.style.pointerEvents = 'none'; dbtn.style.opacity = '0.85'; }
        }else{
            if(dbtn){ dbtn.style.pointerEvents = ''; dbtn.style.opacity = '1'; }
        }
    }catch(e){ /* ignore */ }
}

function typ(){
    try{
        var t=document.getElementById("terminal-text");
        if(!t) throw new Error('terminal-text element missing');
        if(!del&&idx<msg.length){
            t.innerHTML=msg.substring(0,idx+1)+'<span class="loading-cursor"></span>';
            idx++;
            setTimeout(typ,150);
        }else if(!del&&idx===msg.length){
            setTimeout(function(){del=true;typ()},1000);
        }else if(del&&idx>0){
            idx--;
            t.innerHTML=msg.substring(0,idx)+'<span class="loading-cursor"></span>';
            setTimeout(typ,100);
        }else{
            document.getElementById("loading-screen").style.display="none";
            document.getElementById("main-content").classList.remove("hidden");
            rdy=true;
            try{ setDiscordUIEnabled(true); }catch(e){}
            try{ init3D(); }catch(e){ console.error('init3D failed',e); }
        }
    }catch(e){
        console.error('typing animation failed, showing content', e);
        finishLoading();
    }
}

var headerMsg="JAROD NEEDS HELP",headerIdx=0,headerDel=false;
function typeHeader(){
    var t=document.getElementById("header-text");
    if(!headerDel&&headerIdx<headerMsg.length){
        t.textContent=headerMsg.substring(0,headerIdx+1);
        headerIdx++;
        setTimeout(typeHeader,150);
    }else if(!headerDel&&headerIdx===headerMsg.length){
        setTimeout(function(){headerDel=true;typeHeader()},2000);
    }else if(headerDel&&headerIdx>0){
        headerIdx--;
        t.textContent=headerMsg.substring(0,headerIdx);
        setTimeout(typeHeader,80);
    }else{
        headerDel=false;
        setTimeout(typeHeader,1000);
    }
}

function showPage(page){
    document.querySelectorAll('.page').forEach(function(p){p.classList.remove('active')});
    document.querySelectorAll('.nav-link').forEach(function(l){l.classList.remove('active')});
    document.getElementById(page+'-page').classList.add('active');
    try{ if(event && event.target) event.target.classList.add('active'); }catch(e){}
    // if user navigated to location page, ensure Illinois art is initialized/resized
    if(page === 'location' && window.initIllinoisArt){ try{ window.initIllinoisArt(); }catch(e){console.error('initIllinoisArt failed',e);} }
    window.scrollTo(0,0);
}

function init3D(){
    if(typeof renderer !== 'undefined' && renderer) return; // already initialized
    var c=document.getElementById("three-bg");
    scene=new THREE.Scene();
    camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,0.1,1000);
    renderer=new THREE.WebGLRenderer({canvas:c,alpha:true,antialias:true});
    renderer.setSize(window.innerWidth,window.innerHeight);
    camera.position.z=90;

    // lighting
    var dir = new THREE.DirectionalLight(0xffffff, 0.9);
    dir.position.set(10,20,10);
    scene.add(dir);
    scene.add(new THREE.AmbientLight(0x111111, 0.9));

    // larger neon-tinted globe
    try{
        var loader = new THREE.TextureLoader();
        loader.crossOrigin = '';
        loader.load('https://threejs.org/examples/textures/land_ocean_ice_cloud_2048.jpg', function(tex){
            var ggeo = new THREE.SphereGeometry(20, 64, 64);
            var gmat = new THREE.MeshStandardMaterial({map: tex, color:0x003333, emissive:0x00ffff, emissiveIntensity:0.5, roughness:0.7, metalness:0.05});
            globe = new THREE.Mesh(ggeo, gmat);
            globe.position.set(0, -6, -40);
            globe.scale.set(2.2,2.2,2.2);
            scene.add(globe);
        }, undefined, function(err){ console.warn('globe texture load failed', err); });
    }catch(e){ console.warn('globe init failed', e); }

    // stars (points)
    try{
        var starGeo = new THREE.BufferGeometry();
        var starCount = 600;
        var starPos = new Float32Array(starCount * 3);
        for(var i=0;i<starCount;i++){
            var r = 200;
            starPos[i*3] = (Math.random()-0.5)*r;
            starPos[i*3+1] = (Math.random()-0.5)*r*0.6;
            starPos[i*3+2] = (Math.random()-0.5)*r;
        }
        starGeo.setAttribute('position', new THREE.BufferAttribute(starPos,3));
        bgStars = new THREE.Points(starGeo, new THREE.PointsMaterial({color:0x00ffff,size:0.6,transparent:true,opacity:0.9}));
        scene.add(bgStars);
    }catch(e){ console.warn('stars init failed', e); }

    // geometric shapes (wireframe) ‚Äî lower poly for performance
    try{
        for(var i=0;i<12;i++){
            var sgeo = new THREE.IcosahedronGeometry( (Math.random()*1.8)+0.6, 0 );
            var smat = new THREE.MeshBasicMaterial({color:0x00ffff, wireframe:true, transparent:true, opacity:0.25});
            var s = new THREE.Mesh(sgeo, smat);
            s.position.set(Math.random()*80-40, Math.random()*40-10, Math.random()*120-60);
            s.rotation.set(Math.random()*2, Math.random()*2, Math.random()*2);
            s.scale.setScalar((Math.random()*0.9)+0.6);
            scene.add(s);
            bgShapes.push(s);
        }
    }catch(e){ console.warn('shapes init failed', e); }

    animate3D();
}

function animate3D(){
    requestAnimationFrame(animate3D);
    var t = Date.now()*0.001;
    if(globe) globe.rotation.y = t * 0.12;
    if(bgStars) bgStars.rotation.y = t * 0.01;
    if(bgShapes && bgShapes.length){
        for(var i=0;i<bgShapes.length;i++){
            var s = bgShapes[i];
            s.rotation.x += 0.002 + (i%3)*0.0005;
            s.rotation.y += 0.003 + (i%2)*0.0007;
            s.position.y += Math.sin(t*0.5 + i) * 0.0005; // tiny drift
        }
    }
    camera.rotation.y = Math.sin(Date.now()*0.00008) * 0.02;
    renderer.render(scene,camera);
}

window.addEventListener('resize',function(){
    if(renderer){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}
});

function finishLoading(){
    try{
        var ls = document.getElementById('loading-screen');
        if(ls) ls.style.display = 'none';
        var mc = document.getElementById('main-content');
        if(mc) mc.classList.remove('hidden');
        rdy = true;
        // re-enable the discord UI once loading/hello-world finished
        try{ setDiscordUIEnabled(true); }catch(e){}
        try{ init3D(); }catch(e){ console.error('init3D error in finishLoading', e); }
        try{ startHeaderType(); }catch(e){}
        try{ if(window.initIllinoisArt) window.initIllinoisArt(); }catch(e){ console.error('initIllinoisArt in finishLoading failed', e); }
    }catch(err){ console.error('finishLoading failed', err); }
}

window.onload=function(){
    try{ init3D(); }catch(e){ console.warn('init3D early init failed', e); }
    try{ setDiscordUIEnabled(false); }catch(e){}
    setTimeout(function(){ try{ typ() }catch(e){ console.error(e); finishLoading(); } },500);
    // safety fallback: if the loader hangs, force show content after 6s
    setTimeout(function(){ if(!rdy) { console.warn('Loader timeout ‚Äî forcing show'); finishLoading(); } }, 6000);
};
setTimeout(typeHeader,1000);

// music controls removed

function lookupIP(){
    var i=document.getElementById("ipInput").value.trim(),r=document.getElementById("ipResult");
    if(!i){r.style.display="block";r.innerHTML='<span style="color:#f33">‚ö† Enter IP</span>';return}
    r.style.display="block";r.innerHTML='<span style="color:#ff0">‚ö° SCANNING...</span>';
    fetch("https://ipapi.co/"+i+"/json/").then(function(x){return x.json()}).then(function(d){
        r.innerHTML='<div style="line-height:2"><div style="border-bottom:1px solid #0ff;padding-bottom:0.5rem;margin-bottom:0.5rem"><span style="color:#0ff">‚úì IP:</span> '+d.ip+'</div><div><span style="color:#0ff">‚Ä¢ CITY:</span> '+(d.city||"N/A")+'</div><div><span style="color:#0ff">‚Ä¢ COUNTRY:</span> '+(d.country_name||"N/A")+'</div><div><span style="color:#0ff">‚Ä¢ ISP:</span> '+(d.org||"N/A")+'</div></div>'
    });
}

function lookupMAC(){
    var m=document.getElementById("macInput").value.trim(),r=document.getElementById("macResult");
    if(!m){r.style.display="block";r.innerHTML='<span style="color:#f33">‚ö† Enter MAC</span>';return}
    r.style.display="block";
    var c=m.replace(/[:\-\s.]/g,"").toUpperCase();
    if(c.length<6){r.innerHTML='<span style="color:#f33">‚ö† Invalid MAC</span>';return}
    var o=c.substring(0,6);
    r.innerHTML='<div style="line-height:2"><div style="border-bottom:1px solid #0ff;padding-bottom:0.5rem;margin-bottom:0.5rem"><span style="color:#0ff">‚úì MAC:</span> '+m+'</div><div><span style="color:#0ff">‚Ä¢ OUI:</span> '+o+'</div><div style="margin-top:1rem"><a href="https://maclookup.app/search/result?mac='+o+'" target="_blank" style="color:#fff;text-decoration:underline">View Full Lookup</a></div></div>';
}

function getMyIP(){
    var r=document.getElementById("myipResult");
    r.style.display="block";r.innerHTML='<span style="color:#ff0">‚ö° FETCHING...</span>';
    fetch("https://ipapi.co/json/").then(function(x){return x.json()}).then(function(d){
        r.innerHTML='<div style="line-height:2"><div style="border-bottom:1px solid #0ff;padding-bottom:0.5rem;margin-bottom:0.5rem"><span style="color:#0ff">‚úì YOUR IP:</span> '+d.ip+'</div><div><span style="color:#0ff">‚Ä¢ CITY:</span> '+(d.city||"N/A")+'</div><div><span style="color:#0ff">‚Ä¢ ISP:</span> '+(d.org||"N/A")+'</div></div>'
    });
}

function lookupDomain(){
    var dm=document.getElementById("domainInput").value.trim(),r=document.getElementById("domainResult");
    if(!dm){r.style.display="block";r.innerHTML='<span style="color:#f33">‚ö† Enter domain</span>';return}
    r.style.display="block";r.innerHTML='<span style="color:#ff0">‚ö° RESOLVING...</span>';
    fetch("https://dns.google/resolve?name="+dm+"&type=A").then(function(x){return x.json()}).then(function(d){
        if(d.Answer&&d.Answer.length>0){
            var ips=d.Answer.filter(function(a){return a.type===1}).map(function(a){return a.data}).join(", ");
            r.innerHTML='<div style="line-height:2"><div style="border-bottom:1px solid #0ff;padding-bottom:0.5rem;margin-bottom:0.5rem"><span style="color:#0ff">‚úì DOMAIN:</span> '+dm+'</div><div><span style="color:#0ff">‚Ä¢ IPs:</span> '+ips+'</div></div>'
        }else{r.innerHTML='<span style="color:#f33">‚ö† No records</span>'}
    });
}

function readEXIF(){
    var f=document.getElementById("exifInput").files[0],r=document.getElementById("exifResult"),p=document.getElementById("exifPreview");
    if(!f)return;
    p.style.display="none";
    r.style.display="block";
    r.innerHTML='<span style="color:#ff0">‚ö° Reading EXIF data...</span>';
    
    var reader=new FileReader();
    reader.onload=function(e){
        p.src=e.target.result;
        p.style.display="block";
        
        var img=new Image();
        img.onload=function(){
            EXIF.getData(img,function(){
                var all=EXIF.getAllTags(this);
                var keys=Object.keys(all);
                var html='<div class="exif-data">';
                
                if(keys.length===0){
                    html='<div style="color:#ff0;text-align:center;padding:1rem">‚ö† No EXIF data found in this image</div>';
                }else{
                    var fields=['Make','Model','DateTime','DateTimeOriginal','ExposureTime','FNumber','ISO','ISOSpeedRatings','FocalLength','LensModel','Flash','WhiteBalance','GPSLatitude','GPSLongitude','GPSAltitude'];
                    
                    fields.forEach(function(k){
                        if(all[k]){
                            var v=all[k];
                            if(typeof v==='object'){
                                if(v.numerator!==undefined){
                                    v=v.denominator===1?v.numerator:(v.numerator/v.denominator).toFixed(2);
                                }else if(Array.isArray(v)){
                                    v=v.join(', ');
                                }else{
                                    v=JSON.stringify(v);
                                }
                            }
                            html+='<div class="exif-label">'+k+':</div><div class="exif-value">'+v+'</div>';
                        }
                    });
                    
                    if(html==='<div class="exif-data">'){
                        html='<div style="color:#ff0;text-align:center;padding:1rem">‚ö† No standard EXIF fields found</div>';
                    }
                }
                html+='</div>';
                r.innerHTML=html;
            });
        };
        img.src=e.target.result;
    };
    reader.readAsDataURL(f);
}

function uploadImage(){
    var f=document.getElementById("uploadInput").files[0];
    var r=document.getElementById("uploadResult");
    var p=document.getElementById("previewImg");
    
    if(!f){
        r.style.display="block";
        r.innerHTML='<span style="color:#f33">‚ö† Please select an image first</span>';
        return;
    }
    
    r.style.display="block";
    r.innerHTML='<span style="color:#ff0">‚ö° Uploading to Imgur...</span>';
    
    var reader=new FileReader();
    reader.onload=function(e){
        p.src=e.target.result;
        p.style.display="block";
        
        var base64=e.target.result.split(',')[1];
        var formData=new FormData();
        formData.append('image',base64);
        formData.append('type','base64');
        
        fetch('https://api.imgur.com/3/image',{ 
            method:'POST',
            headers:{'Authorization':'Client-ID 546c25a59c58ad7'},
            body:formData
        }).then(function(res){return res.json()}).then(function(data){
            if(data.success){
                var link=data.data.link;
                r.innerHTML='<div style="line-height:2"><div style="border-bottom:1px solid #0ff;padding-bottom:0.5rem;margin-bottom:0.5rem;color:#0f0;font-weight:bold">‚úì Upload Successful!</div><div><span style="color:#0ff">Image URL:</span></div><div><a href="'+link+'" target="_blank" style="color:#fff;word-break:break-all;text-decoration:underline">'+link+'</a></div><div style="margin-top:1rem"><button onclick="copyToClipboard(\''+link+'\')" style="background:#003333;color:#0ff;border:2px solid #0ff;padding:0.5rem 1rem;border-radius:4px;cursor:pointer">üìã Copy Link</button></div></div>';
            }else{
                r.innerHTML='<span style="color:#f33">‚ö† Upload failed. Please try again.</span>';
            }
        }).catch(function(e){
            r.innerHTML='<span style="color:#f33">‚ö† Upload error: '+e.message+'</span>';
        });
    };
    reader.readAsDataURL(f);
}

function copyToClipboard(text){
    navigator.clipboard.writeText(text).then(function(){
        alert('‚úì Link copied to clipboard!');
    }).catch(function(){
        alert('Failed to copy. Please copy manually.');
    });
}

function selectAmount(a){
    sel=a;
    var c=document.querySelectorAll(".need-card");
    for(var i=0;i<c.length;i++)c[i].classList.remove("selected");
    event.target.closest(".need-card").classList.add("selected");
    document.getElementById("customAmount").value="";
    showPP();
}

function handleCustomAmount(){
    var v=parseFloat(document.getElementById("customAmount").value)||0;
    sel=v;
    var c=document.querySelectorAll(".need-card");
    for(var i=0;i<c.length;i++)c[i].classList.remove("selected");
    if(v>0)showPP();
}

function showPP(){
    var c=document.getElementById("paypal-container");
    c.innerHTML="";
    if(sel<=0){c.innerHTML='<p style="text-align:center;color:#0cc;padding:2rem">Select amount above</p>';return}
    if(typeof paypal==="undefined"){c.innerHTML='<p style="text-align:center;color:#f33">PayPal loading...</p>';return}
    paypal.Buttons({
        createOrder:function(d,a){return a.order.create({purchase_units:[{amount:{value:sel.toFixed(2)}}]})},
        onApprove:function(d,a){return a.order.capture().then(function(){document.getElementById("success").style.display="block"})},
        onError:function(e){alert("Payment error")}
    }).render("#paypal-container");
}
    </script>

    <!-- Helping Hands / Maps: uses Google Maps Places + Directions -->
    <script>
    // Edit this query to change the target place in future
    const TARGET_PLACE_QUERY = 'Helping Hands of Springfield IL';
    const SPRINGFIELD_CENTER = {lat:39.7817, lng:-89.6501};

    var hhMap, hhPlaces, hhDirectionsService, hhDirectionsRenderer, targetMarker, hhInfoWindow;

    function initHelpingHandsMap(){
        try{
            hhMap = new google.maps.Map(document.getElementById('hh-map'), {center: SPRINGFIELD_CENTER, zoom: 13, streetViewControl:false});
            hhPlaces = new google.maps.places.PlacesService(hhMap);
            hhDirectionsService = new google.maps.DirectionsService();
            hhDirectionsRenderer = new google.maps.DirectionsRenderer({map: hhMap});
        }catch(e){ console.error('Maps init failed', e); document.getElementById('helping-info').innerText = 'Maps failed to load.'; }
        // wire remaining button after map exists
        var openBtn = document.getElementById('openMapsBtn');
        if(openBtn) openBtn.addEventListener('click', openTargetInGoogleMaps);
    }

    function findHelpingHands(){
        var info = document.getElementById('helping-info');
        if(!hhPlaces){
            // If PlacesService isn't available, fall back to opening a Google Maps search.
            info.innerHTML = '<span style="color:#ff0">Places service unavailable ‚Äî opening Google Maps search...</span>';
            var urlFallback = 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(TARGET_PLACE_QUERY + ' ' + SPRINGFIELD_CENTER.lat + ',' + SPRINGFIELD_CENTER.lng);
            window.open(urlFallback, '_blank');
            return;
        }

        info.innerHTML = '<span style="color:#ff0">Searching for Helping Hands...</span>';
        // Request photos and place_id so we can display an image when available.
        hhPlaces.findPlaceFromQuery({query: TARGET_PLACE_QUERY, fields: ['name','geometry','formatted_address','photos','place_id']}, function(results, status){
            if(status === google.maps.places.PlacesServiceStatus.OK && results && results.length){
                var place = results[0];
                if(targetMarker) targetMarker.setMap(null);
                targetMarker = new google.maps.Marker({map: hhMap, position: place.geometry.location, title: place.name});
                hhMap.panTo(place.geometry.location);
                hhMap.setZoom(15);

                var content = '<div style="line-height:1.4"><strong style="color:#0f0">'+place.name+'</strong><div style="color:#0ff">'+(place.formatted_address||'')+'</div>';
                // Show the first photo if provided by Places
                try{
                    if(place.photos && place.photos.length){
                        var photoUrl = place.photos[0].getUrl({maxWidth: 600});
                        // include an onerror handler so a broken photo doesn't break the UI
                        content += '<div style="margin-top:8px"><img src="'+photoUrl+'" alt="'+place.name+'" style="max-width:100%; border:2px solid #0ff; border-radius:6px; display:block" onerror="this.style.display=\'none\';"></div>';
                    }
                }catch(e){
                    console.warn('Could not get place photo URL', e);
                }
                content += '</div>';

                // Use an InfoWindow when available, otherwise fall back to the info panel
                if(window.google && google.maps && google.maps.InfoWindow){
                    if(!hhInfoWindow) hhInfoWindow = new google.maps.InfoWindow();
                    hhInfoWindow.setContent(content);
                    hhInfoWindow.open(hhMap, targetMarker);
                } else {
                    info.innerHTML = content;
                }
            } else {
                // If no place found, open Google Maps search as a fallback so user still reaches the place listing.
                info.innerHTML = '<span style="color:#f33">Could not find Helping Hands via Places: '+status+' ‚Äî opening Google Maps search...</span>';
                var searchUrl = 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(TARGET_PLACE_QUERY + ' ' + SPRINGFIELD_CENTER.lat + ',' + SPRINGFIELD_CENTER.lng);
                window.open(searchUrl, '_blank');
            }
        });
    }

    function getDirectionsToHelpingHands(){
        var info = document.getElementById('helping-info');
        if(!navigator.geolocation){ info.innerHTML = '<span style="color:#f33">Geolocation not supported</span>'; return; }
        if(!targetMarker){ findHelpingHands(); setTimeout(getDirectionsToHelpingHands,1200); return; }
        info.innerHTML = '<span style="color:#ff0">Getting your location...</span>';
        navigator.geolocation.getCurrentPosition(function(pos){
            var origin = {lat: pos.coords.latitude, lng: pos.coords.longitude};
            var dest = targetMarker.getPosition();
            hhDirectionsService.route({origin: origin, destination: dest, travelMode: google.maps.TravelMode.DRIVING}, function(result, status){
                if(status === 'OK'){
                    hhDirectionsRenderer.setDirections(result);
                    info.innerHTML = '<span style="color:#0f0">Directions shown on map</span>';
                } else {
                    info.innerHTML = '<span style="color:#f33">Directions error: '+status+'</span>';
                }
            });
        }, function(err){
            var msg = 'Geolocation error: ' + (err && err.message ? err.message : 'unknown');
            // common cause: permission denied or insecure origin (file://). Give guidance.
            if(err && err.code === 1){ msg += ' ‚Äî permission denied. Please allow location access.' }
            if(err && err.code === 2){ msg += ' ‚Äî position unavailable.' }
            if(err && err.code === 3){ msg += ' ‚Äî timeout.' }
            msg += ' Note: Geolocation requires HTTPS (or localhost) in most browsers.';
            info.innerHTML = '<span style="color:#f33">'+msg+'</span>';
        }, {timeout:10000});
    }

    function openTargetInGoogleMaps(){
        if(!targetMarker){
            // Try to find the place first; if that fails, the findHelpingHands fallback will open Maps.
            findHelpingHands();
            setTimeout(function(){
                if(targetMarker){
                    var p = targetMarker.getPosition();
                    var url = 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(p.lat()+','+p.lng());
                    window.open(url, '_blank');
                } else {
                    // If still no targetMarker, open a general Maps search for the query
                    var urlFallback = 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(TARGET_PLACE_QUERY + ' ' + SPRINGFIELD_CENTER.lat + ',' + SPRINGFIELD_CENTER.lng);
                    window.open(urlFallback, '_blank');
                }
            }, 1200);
            return;
        }
        var p = targetMarker.getPosition();
        var url = 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(p.lat()+','+p.lng());
        window.open(url, '_blank');
    }
    </script>
    <!-- Google Maps API (using the key you provided). Edit TARGET_PLACE_QUERY above to change which place is located. -->
    <script id="google-maps" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKCAe6yBEKIXKfo7PfOec3cqCXpZuk8bs&libraries=places&callback=initHelpingHandsMap&loading=async" async defer></script>
    <script>
    // Use the Maps API callback (see script `callback` param) to initialize.
    // Avoid calling `initHelpingHandsMap` on raw script load because the
    // API may not be fully bootstrapped yet and `google.maps.Map` can be undefined.

    document.getElementById('google-maps').addEventListener('error', function(){
        var info = document.getElementById('helping-info');
        if(info) info.innerHTML = '<span style="color:#f33">Failed to load Google Maps script. Check network or API key.</span>';
    });

    // Global error handler to surface Billing / Places errors to the UI
    window.addEventListener('error', function(e){
        try{
            var msg = (e && e.message) ? e.message : (e && e.error && e.error.message) ? e.error.message : '';
            if(msg && msg.indexOf('BillingNotEnabledMapError') !== -1){
                var info = document.getElementById('helping-info');
                if(info) info.innerHTML = '<span style="color:#f33">Google Maps billing is not enabled for this API key. Enable billing in the Google Cloud Console: https://console.cloud.google.com/</span>';
            }
            if(msg && msg.indexOf('PlacesService') !== -1){
                var info2 = document.getElementById('helping-info');
                if(info2) info2.innerHTML = '<span style="color:#f33">Places library may not be available to this project. See migration guide: https://developers.google.com/maps/documentation/javascript/places-migration-overview</span>';
            }
        }catch(ignore){}
    });

    function openDiscordPopup(){
        // do not open the popup while loader / "Hello World" is active
        if(!rdy) return;
        var p = document.getElementById('discord-popup');
        var o = document.getElementById('discord-overlay');
        if(p) p.style.display = 'block';
        if(o) o.style.display = 'block';
    }
    // Popup mini-ball: initialize/start renderer when popup opens, stop when closed
    function startPopupBall(){
        try{
            if(popupRenderer) return;
            var canvas = document.getElementById('popup-ball');
            if(!canvas) return;
            popupScene = new THREE.Scene();
            popupCamera = new THREE.PerspectiveCamera(50, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            popupRenderer = new THREE.WebGLRenderer({canvas: canvas, alpha: true, antialias: true});
            popupRenderer.setPixelRatio(window.devicePixelRatio || 1);
            popupRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
            popupCamera.position.z = 70;

            var dl = new THREE.DirectionalLight(0xffffff, 0.9);
            dl.position.set(5,10,7);
            popupScene.add(dl);
            popupScene.add(new THREE.AmbientLight(0x222222, 0.6));

            var geom = new THREE.SphereGeometry(16, 32, 32);
            var mat = new THREE.MeshStandardMaterial({color:0x00ffff, emissive:0x0088ff, emissiveIntensity:0.6, roughness:0.6, metalness:0.2});
            popupMesh = new THREE.Mesh(geom, mat);
            popupScene.add(popupMesh);

            var wire = new THREE.LineSegments(new THREE.WireframeGeometry(geom), new THREE.LineBasicMaterial({color:0x00ffff, transparent:true, opacity:0.9}));
            popupMesh.add(wire);

            function popAnimate(){
                popupAnimId = requestAnimationFrame(popAnimate);
                var t = Date.now() * 0.002;
                popupMesh.rotation.y = t * 0.6;
                popupMesh.rotation.x = Math.sin(t * 0.7) * 0.15;
                popupRenderer.render(popupScene, popupCamera);
            }
            popAnimate();
        }catch(e){ console.warn('startPopupBall failed', e); }
    }

    function stopPopupBall(){
        try{
            if(popupAnimId) cancelAnimationFrame(popupAnimId);
            popupAnimId = null;
            if(popupRenderer){
                // dispose materials/geometry in scene
                try{ popupScene.traverse(function(o){ if(o.geometry) o.geometry.dispose(); if(o.material){ if(Array.isArray(o.material)){ o.material.forEach(function(m){ m.dispose&&m.dispose(); }); } else { o.material.dispose&&o.material.dispose(); } } }); }catch(e){}
                try{ popupRenderer.dispose(); }catch(e){}
                popupRenderer = null;
            }
            popupScene = null; popupCamera = null; popupMesh = null;
        }catch(e){ console.warn('stopPopupBall failed', e); }
    }

    function openDiscordPopup(){
        if(!rdy) return;
        var p = document.getElementById('discord-popup');
        var o = document.getElementById('discord-overlay');
        if(p) p.style.display = 'block';
        if(o) o.style.display = 'block';
        try{ startPopupBall(); }catch(e){}
    }

    function closeDiscordPopup(){
        var p = document.getElementById('discord-popup');
        var o = document.getElementById('discord-overlay');
        if(p) p.style.display = 'none';
        if(o) o.style.display = 'none';
        try{ stopPopupBall(); }catch(e){}
    }
    function copyDiscord(){
        var el = document.getElementById('discord-username');
        if(!el) return;
        var txt = el.textContent.trim();
        if(navigator.clipboard && navigator.clipboard.writeText){
            navigator.clipboard.writeText(txt).then(function(){ alert('‚úì Discord username copied: ' + txt); }).catch(function(){ prompt('Copy this username', txt); });
        } else { prompt('Copy this username', txt); }
    }

    // Attempts to open the Discord native app; falls back to the web app if the scheme fails.
    function openDiscordApp(){
        try{
            // Try deep link to open the native app
            window.location.href = 'discord://';
            // Fallback to web app after a short delay
            setTimeout(function(){ window.open('https://discord.com/app', '_blank'); }, 600);
        }catch(e){ window.open('https://discord.com/app', '_blank'); }
    }
    
    function toggleDiscordSubmenu(){
        try{
            var s = document.getElementById('discord-submenu');
            if(!s) return;
            s.style.display = (s.style.display === 'block') ? 'none' : 'block';
        }catch(e){console.error(e)}
    }
    </script>
    <script>
    // Animated favicon: spinning globe rendered into a small canvas and set as the page favicon.
    (function(){
        var canvas = document.createElement('canvas');
        var size = 64;
        canvas.width = size; canvas.height = size;
        var ctx = canvas.getContext('2d');
        var link = document.getElementById('dynamic-favicon');
        if(!link){ link = document.createElement('link'); link.id='dynamic-favicon'; link.rel='icon'; document.head.appendChild(link); }

        var img = new Image();
        img.crossOrigin = 'anonymous';
        img.src = 'https://threejs.org/examples/textures/land_ocean_ice_cloud_2048.jpg';

        var angle = 0;
        var rafId = null;

        function drawFrame(){
            ctx.clearRect(0,0,size,size);
            // circular clip
            ctx.save();
            ctx.beginPath(); ctx.arc(size/2, size/2, (size/2)-2, 0, Math.PI*2); ctx.closePath(); ctx.clip();
            ctx.translate(size/2, size/2);
            ctx.rotate(angle);
            if(img.complete && img.naturalWidth){
                // scale image to cover canvas
                var scale = (size*1.2) / Math.min(img.width, img.height);
                var iw = img.width * scale, ih = img.height * scale;
                ctx.drawImage(img, -iw/2, -ih/2, iw, ih);
            } else {
                // fallback gradient
                var g = ctx.createLinearGradient(-size/2,-size/2,size/2,size/2);
                g.addColorStop(0,'#001a2a'); g.addColorStop(1,'#002233');
                ctx.fillStyle = g; ctx.fillRect(-size/2,-size/2,size,size);
            }
            ctx.restore();
            // outer ring
            ctx.beginPath(); ctx.arc(size/2, size/2, (size/2)-2, 0, Math.PI*2);
            ctx.lineWidth = 2; ctx.strokeStyle = 'rgba(0,255,255,0.12)'; ctx.stroke();

            // update favicon
            try{ link.href = canvas.toDataURL('image/png'); }catch(e){}

            angle += 0.02;
        }

        function animate(){ drawFrame(); rafId = requestAnimationFrame(animate); }

        function start(){ if(rafId) return; animate(); }
        function stop(){ if(rafId) cancelAnimationFrame(rafId); rafId=null; }

        // Start once the page is visible; if cross-origin image blocks toDataURL, fallback still shows a nice gradient.
        if(document.readyState === 'complete'){ start(); } else { window.addEventListener('load', start); }

        // expose control for debugging
        window.startFaviconSpin = start; window.stopFaviconSpin = stop;
    })();
    </script>
</body>
</html>
